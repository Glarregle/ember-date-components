<BasicDropdown
  @disabled={{disabled}}
  @onOpen={{action 'onDropdownOpened'}}
  @onClose={{action 'onDropdownClosed'}}
  @renderInPlace={{renderInPlace}}
  @horizontalPosition={{horizontalPosition}}
  @verticalPosition={{verticalPosition}}
  @matchTriggerWidth={{matchTriggerWidth}} as |dd|
>
  <dd.Trigger
    @onKeyDown={{action 'onTriggerKeyDown'}}
    class='time-picker__trigger'
  >
    <button
      type='button'
      disabled={{disabled}}
      class='time-picker__button {{buttonClasses}}'
      data-time-picker-toggle-button={{elementId}}
      data-time-picker-value={{displayValue}}
      tabindex='-1'
    >
      {{#if displayValue}}
        {{displayValue}}
      {{else}}
        {{placeholder}}
      {{/if}}
    </button>
  </dd.Trigger>

  <dd.Content>
    <div
      class='time-picker__dropdown {{dropdownClasses}}'
      data-time-picker-instance={{elementId}}
    >
      <TimePickerInput
        @value={{this.inputValue}}
        @onInput={{this.updateInputValue}}
        @onEscape={{this.closeDropdown}}
        @onTab={{this.closeDropdown}}
        @onArrowUp={{this.selectUp}}
        @onArrowDown={{this.selectDown}}
        @onEnter={{this.selectCurrent}}
        class={{@inputClasses}}
        disabled={{@disabled}}
        id='{{this.elementId}}-input'
        placeholder={{@placeholder}}
        data-time-picker-input-instance={{this.elementId}}
      />

      <div>
        {{! template-lint-disable no-invalid-interactive }}
        {{#each filteredOptions as |option i|}}
          <div
            class='time-picker__dropdown__item
            {{
              if
              (is-equal selectedOptionIndex i)
              'time-picker__dropdown__item--selected'
            }}'
            {{action 'selectValue' option.value}}
          >
            {{option.value}}
          </div>
        {{/each}}
        {{! template-lint-enable no-invalid-interactive }}
      </div>
    </div>
  </dd.Content>
</BasicDropdown>